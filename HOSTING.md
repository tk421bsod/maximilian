# hosting this yourself
Want to host your own instance of Maximilian?
You can set one up in just a few minutes.

First, ensure your system meets these requirements:
- at least 2gb of RAM
- 2gb free hard drive space (10gb for music)
- Working Internet connection (around 10mbps download for music)
- Any version of Linux that supports Python 3.8+ (recommended: latest Ubuntu LTS version)
- WSL (if on Windows)

Start by downloading the source code in this repository.  I recommend cloning the repository using `git clone https://github.com/tk421bsod/maximilian`.

Then, run the setup script (`bash setup.sh`) and follow the prompts it gives you.
It'll install almost everything Maximilian needs (python, mariadb, pip, python packages, etc) and set them up.

Now you're ready to run Maximilian. Just run `python3 main.py`.
If you see an "Invalid syntax" error when starting Maximilian, make sure you're running it on Python 3.8 or above. 
On some older versions of Linux you might need to compile a newer version of Python yourself.

If you get some weird output and can't see it anymore, check the log file. It's located in `./logs/maximilian-<date>.log`.

# optional packages
Want to enable the "images" extension and/or get prettier output in the console?
Run `pip3 install -r requirements-extra.txt`.
You may need to install a Rust compiler.

Just want prettier output? Run `pip3 install rich`.

# additional command line arguments 

To enable special commands through an extension called `jishaku` (https://github.com/Gorialis/jishaku), run `main.py` with `--enablejsk`.

If you're hosting the database on another computer, you'll need to run `main.py` with `--ip <database_ip>`, replacing `<database_ip>` with the IP address of your database.

To skip loading a specific extension, use the `--noload` argument. Follow it up with the names of the extensions you don't want loaded. for example, `python3 main.py --noload cogs.userinfo` will make Maximilian not load the userinfo extension.

You can specify a logging level (which filters the information Maximilian outputs) through command line arguments after `main.py`; the logging levels are -q (disables logging), -e (errors only), -w (warnings + errors), -i (warnings + errors + info, recommended), -v (all log messages are outputted, this is not recommended because of the console spam).
It defaults to -w if nothing's specified.
For example, `python3 main.py -i` will start Maximilian with the INFO logging level.
I recommend using `-i` as it outputs some information you wouldn't see at other logging levels.

Run main.py with `--help` to view more information on valid arguments.

# can I run Maximilian on Windows?
At the moment, no.
I'm considering it and may make it an option in 1.1.

# i wanna contribute, wtf is up with all these files?
Maximilian is broken up into a number of different Python modules to make development and maintenance easier.
Each module handles some specific functionality.

Any modules in the root directory are what the bot calls 'required' modules. They provide a set of APIs for other modules to call into.
Deleting or breaking one of these modules will prevent Maximilian from functioning as all of these are interdependent to some degree.

Here's what each one does:
* main.py - launches Maximilian, loads optional modules
* settings.py - an extremely simple way to add setting toggles to a module
* helpcommand.py - Maximilian's help command
* errorhandling.py - command error handling utilities
* core.py - various utility commands, hooks for on_message, guild_add, and guild_remove, a couple helper methods used in async contexts
* db.py - an interface for database interaction
* common.py - some helper methods that are used outside of async contexts
* updater.py - handles updating Maximilian

There are also a couple different directories:
* cogs - stores 'optional' modules that contain commands
* logs - stores log files, labeled with date started
* songcache - cache for files generated by the music module
* imgcache - cache for files generated by the images module
* web - assorted website files

Anything in the 'cogs' directory is what the bot calls 'optional' modules.
As the name implies, you can delete or break these without much effect besides a loss of their functionality.
These modules make up the majority of Maximilian's features.

They are:
* config.py - calls into settings.py to allow for changing settings
* music.py - some music features
* reactionroles.py - gives users roles on reactions
* misc.py - a few fun commands that don't really fit into a category
* images.py - applies effects to profile pictures
* prefixes.py - provides per-server customizable prefixes
* reminders.py - reminders and todo lists
* responses.py - 'custom commands': say something, get a response
* userinfo.py - provides information about users

